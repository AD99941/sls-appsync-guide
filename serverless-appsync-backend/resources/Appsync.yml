appSync:
    name: ${self:custom.base}-api
    authenticationType: AWS_IAM
    logConfig:
      loggingRoleArn: ${self:custom.role.logging.arn}
      level: ALL
    # appsync mapping details(mutation and query resolvers template added in respective path)
    mappingTemplates:
      - dataSource: realtimedata
        type: Mutation
        field: refreshProgressBar
        request: "request/realtimedata/refreshProgressBar-item-request-mapping-template.vtl"
        response: "response/generic-response-mapping-template.vtl"
      - dataSource: getFileMapDetails
        type: Query
        field: getFileMapDetails
        request: "request/getFileMapDetails/getFileMapDetails-item-request-mapping-template.vtl"
        response: "response/generic-response-mapping-template.vtl"

    # appsync dataSources types and other details
    mappingTemplatesLocation: "mapping-templates"
    serviceRole: AppSyncServiceRole
    dataSources:
      - type: NONE  #0
        name: realtimedata
        description: 'realtimedata'
      - type: AWS_LAMBDA #1
        name: getFileMapDetails
        description: 'Lambda DataSource'
        config: # increase the array number in lambdaFunctionArn to get arn of below functionName 
          functionName: 'Products-api-test-deleteProduct'
          lambdaFunctionArn: '${self:custom.role.baseLambdaArn}:${self:custom.appSync.dataSources.1.config.functionName}'
